{% load static %}

  <aside id="sidebar" class="fixed left-0 top-0 z-30 h-screen w-64 bg-white border-r border-gray-200 transform -translate-x-full lg:translate-x-0 transition-transform">
    <div class="flex flex-col h-full">
      <!-- Logo -->
      <div class="flex items-center justify-center h-16 border-b border-gray-200">
        <h1 class="text-2xl font-bold">Space<span class="text-blue-600">Pe</span></h1>
      </div>

      <!-- Navigation -->
      <nav class="flex-1 overflow-y-auto px-3 py-4">
        <ul class="space-y-1 text-sm font-medium">

          <!-- Dashboard -->
          <li>
            <a href="{% url 'dashboard_home' %}" data-page="dashboard_home"
              class="menu-item flex items-center gap-3 p-2 rounded hover:bg-gray-100">
              <i data-lucide="layout-dashboard"></i>
              <span>Dashboard</span>
            </a>
          </li>

          <!-- Users -->
          <li>
            <a href="{% url 'users' %}" data-page="users"
              class="menu-item flex items-center gap-3 p-2 rounded hover:bg-gray-100">
              <i data-lucide="users"></i>
              <span>Users</span>
            </a>
          </li>

          <!-- Reports -->
          <li>
            <a href="{% url 'reports' %}" data-page="reports"
              class="menu-item flex items-center gap-3 p-2 rounded hover:bg-gray-100">
              <i data-lucide="bar-chart-3"></i>
              <span>Reports</span>
            </a>
          </li>

          <!-- Master Module with submenus -->
          <li>
            <button type="button"
                    class="submenu-toggle flex items-center justify-between w-full p-2 rounded hover:bg-gray-100">
              <span class="flex items-center gap-3">
                <i data-lucide="database"></i>
                <span>Master Module</span>
              </span>
              <i data-lucide="chevron-down" class="submenu-icon w-4 h-4 transition-transform"></i>
            </button>

            <ul class="submenu hidden pl-8 mt-1 space-y-1 text-sm">
              <li>
                <a href="{% url 'daily_entry' %}" data-page="daily_entry"
                  class="menu-item flex items-center gap-2 p-2 rounded hover:bg-gray-100">
                  <i data-lucide="calendar-days"></i> Daily Entry
                </a>
              </li>
              <li>
                <a href="{% url 'events' %}" data-page="events"
                  class="menu-item flex items-center gap-2 p-2 rounded hover:bg-gray-100">
                  <i data-lucide="ticket"></i> Events
                </a>
              </li>
              <li>
                <a href="{% url 'workshops' %}" data-page="workshops"
                  class="menu-item flex items-center gap-2 p-2 rounded hover:bg-gray-100">
                  <i data-lucide="book-open"></i> Workshops
                </a>
              </li>
              <li>
                <a href="{% url 'cinema' %}" data-page="cinema"
                  class="menu-item flex items-center gap-2 p-2 rounded hover:bg-gray-100">
                  <i data-lucide="film"></i> Cinema
                </a>
              </li>
                         </ul>
          </li>

        </ul>
      </nav>
    </div>
  </aside>

  <div id="overlay" class="fixed inset-0 z-20 bg-black/50 hidden lg:hidden"></div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://unpkg.com/lucide@latest"></script>
<script src="{% static 'assets/js/app.js' %}"></script>
<script>lucide.createIcons();</script>

<script>

  document.addEventListener("DOMContentLoaded", function () {
  // Select all submenu toggle buttons
  const submenuToggles = document.querySelectorAll(".submenu-toggle");

  submenuToggles.forEach((toggle) => {
    toggle.addEventListener("click", () => {
      // Find the corresponding submenu
      const submenu = toggle.nextElementSibling;
      const icon = toggle.querySelector(".submenu-icon");

      // Toggle the submenu visibility
      submenu.classList.toggle("hidden");

      // Rotate the chevron icon for visual feedback
      icon.classList.toggle("rotate-180");
    });
  });
});

</script>